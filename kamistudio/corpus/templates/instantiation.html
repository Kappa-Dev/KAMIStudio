{% extends "base.html" %}

{% block panel_buttons %}
  <div class="row">
    <div class="col-md-12">
    <h2 class="mb-6 kb-action-brand">{{ corpus.annotation.name }}: instantiate a KAMI-model</h2>
    </div>
  </div>
{% endblock %}

{% block tabs %}

<form id="newModelForm" novalidate="{{ url_for('home.new_model') }}" method="post">
	<div class="col-md-6">
	    <div class="model-input-form-block">
			<div class="row form-row">
			      <label for="name">Name</label>
			      <input type="text" class="form-control" name="name" id="name" placeholder="" value="">
			</div>

			<div class="row form-row">
			    <!-- <div class="col-md-6"> -->
			      <label for="desc">Description</label>
			      <input type="text" class="form-control" name="desc" id="desc" placeholder="" value="">
			    <!-- </div> -->
			</div>

			<div class="row form-row">
			    <label for="desc">Variant selection</label>
			      <p>Select non-wild-type variants for instantation of the model</p>

			    <div id="variantSelectionWidget">
			   	</div>
			</div>


			<div class="row form-row">
				<div class="col-md-6">
					<div id="loadingBlock" style="display: none;" class="loading-elements center-block" display="none;">
						<p>Loading...</p>
						<div id="loader"></div>
					</div>
				</div>
				<div class="col-md-6" style="text-align: right;">
					<button type="submit" class="btn btn-primary btn-lg" name="importForm" action="submit"><span class="glyphicon glyphicon-play"></span> Instantiate</button> 
				</div>
			</div>
		</div>
	</div>
</form>
{% endblock %}

{% block custom_scripts %}
  <script type="text/babel" src="{{ url_for('static', filename='js/selection.jsx') }}"></script>
  <script type="text/babel">
 	ReactDOM.render(
        <SelectionWidget id="variants"
        				 buttonLabel="Specify variant"
        				 selectionDialogTitle="Select a gene"/>,
        document.getElementById("variantSelectionWidget")
    );
  </script>

{% endblock %}
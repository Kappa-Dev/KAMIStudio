{% extends "base.html" %}

{% block title %}Nugget preview{% endblock %}

{% block panel_buttons %}
  <div class="row">
    <div class="col-md-12">
      <h2 class="mb-6 kb-action-brand">{{ corpus.annotation.name }}: nugget preview</h2>
    </div>
  </div>
{% endblock %}


{% block tabs %}
  <div class="row">
    <div class="col-md-7">
      <div id="nuggetEditingBox">
        <div id="loadingBlock" class="loading-elements center-block">
            <div id="loader"></div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}


{% block custom_scripts %}
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <script src="{{ url_for('static', filename='js/graphUtils.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/components/InfoBoxes.jsx') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/graphElementBoxes.jsx') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/graph_visualisation/visualiseGraph.js') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/graph_visualisation/visualiseNugget.js') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/nuggetViews.jsx') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/components/FilteredLists.jsx') }}" type="text/babel"></script>
  <script src="{{ url_for('static', filename='js/components/Dialogs.jsx') }}" type="text/babel"></script>
  <script type="text/babel">
    previewNugget(
      '{{corpus_id}}',
      '{{nugget_desc}}',
      '{{nugget_type}}',
      JSON.parse('{{ nugget_graph | safe }}'),
      JSON.parse('{{ nugget_meta_typing | safe }}'),
      JSON.parse('{{ nugget_ag_typing | safe }}'),
      JSON.parse('{{ nugget_template_rel | safe }}'),
      JSON.parse('{{ reference_genes | safe }}'));
  </script>
{% endblock %}
